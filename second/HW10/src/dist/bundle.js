(()=>{"use strict";var e=[(e,t,i)=>{i.r(t),i.d(t,{cancel:()=>p,likedBtn:()=>g,back:()=>h,head:()=>s,buttonAdd:()=>a,time:()=>L,errorMessage:()=>c,errorWrap:()=>m});var d=i(1);i(2),document.getElementById("root");let n,a=document.querySelector("#addTweet"),o=document.getElementById("modifyItem"),s=document.querySelector(".listPage h1"),r=document.getElementById("modifyItemHeader"),l=document.getElementById("modifyItemInput"),c=document.getElementById("alertMessageText"),m=document.getElementById("alertMessage"),u=document.getElementById("list"),g=document.createElement("button"),h=document.createElement("button");h.classList.add("hidden");let L=2e3;function k(){window.location.hash?"#/add"===window.location.hash?(r.innerText="Add tweet",a.classList.add("hidden"),o.classList.remove("hidden"),s.classList.add("hidden"),u.classList.add("hidden")):"#/liked"===window.location.hash?(o.classList.add("hidden"),a.classList.add("hidden"),g.classList.add("hidden"),h.classList.remove("hidden"),s.classList.remove("hidden"),u.classList.remove("hidden")):window.location.hash.includes("edit")&&(r.innerText="Edit tweet",a.classList.add("hidden"),o.classList.remove("hidden"),s.classList.add("hidden"),u.classList.add("hidden")):(function(){let e;document.querySelectorAll("li").forEach((e=>{e.remove()}));for(let t=0;t<localStorage.length;t++)e=localStorage.key(t),v(e);(0,d.likedList)(),"#/liked"===location.hash&&(0,d.showLiked)()}(),s.innerText="Simple Twitter",a.classList.remove("hidden"),o.classList.add("hidden"),h.classList.add("hidden"),document.getElementById("navigationButtons").classList.remove("hidden"),s.classList.remove("hidden"),u.classList.remove("hidden"))}function p(){history.back()}function v(e){let t=document.createElement("li"),i=document.createElement("button"),d=document.createElement("button"),n=JSON.parse(localStorage.getItem(e));t.id=e,t.className="tweet",i.className="delete",i.innerText="Delete",d.className=n.isLiked?"unlike":"like",d.innerText=n.isLiked?"Unlike":"Like",i.dataset.tweetId=e,d.dataset.tweetId=e,t.innerText=n.text,u.append(t),t.append(i,d)}g.innerText="Go to liked",g.classList.add("hidden"),g.addEventListener("click",d.goToLiked),document.getElementById("navigationButtons").append(g,h),u.addEventListener("click",(e=>{"delete"===e.target.className?(e.target.parentNode.remove(),localStorage.removeItem(e.target.dataset.tweetId)):"like"===e.target.className?(0,d.like)(e.target,e.target.dataset.tweetId):"unlike"===e.target.className?(0,d.unlike)(e.target,e.target.dataset.tweetId):"tweet"===e.target.className&&(window.location.hash=`#/edit/:item_${e.target.id}`,l.value=JSON.parse(localStorage.getItem(e.target.id)).text)})),window.addEventListener("popstate",k),window.addEventListener("load",k),document.getElementById("cancelModification").addEventListener("click",p),document.getElementById("saveModifiedItem").addEventListener("click",(function(){if(l.value){let e,t=!1,i=localStorage.length;for(let i=0;i<localStorage.length;i++)e=localStorage.key(i),JSON.parse(localStorage.getItem(e)).text!==l.value||location.hash.includes("edit")||(t=!0);if(!1===t){const e={text:l.value,isLiked:!1};localStorage.setItem(i,JSON.stringify(e)),v(i),m.classList.add("hidden"),window.location.hash=""}else clearTimeout(n),n=setTimeout((()=>{m.classList.add("hidden"),c.innerText=""}),L),m.classList.remove("hidden"),c.style.color="red",c.innerText="Error! You can't tweet about that."}})),a.addEventListener("click",(function(){window.location="#/add",l.value="",document.getElementById("navigationButtons").classList.add("hidden")}))},(e,t,i)=>{i.r(t),i.d(t,{likedList:()=>a,showLiked:()=>o,goToLiked:()=>s,like:()=>r,unlike:()=>l});var d=i(0);let n;function a(){document.querySelector(".unlike")?d.likedBtn.classList.remove("hidden"):d.likedBtn.classList.add("hidden")}function o(){document.querySelectorAll(".like").forEach((e=>{e.parentNode.remove()}))}function s(){window.location="#/liked",o(),d.back.addEventListener("click",d.cancel),d.back.innerText="Back",d.head.innerText="Liked Tweets",d.buttonAdd.classList.add("hidden"),d.likedBtn.classList.add("hidden")}function r(e,t){e.classList.remove("like"),e.classList.add("unlike"),a(),e.innerText="Unlike";let i=JSON.parse(localStorage.getItem(t));i.isLiked=!0,localStorage.setItem(t,JSON.stringify(i)),clearTimeout(n),n=setTimeout((()=>{d.errorWrap.classList.add("hidden"),d.errorMessage.innerText=""}),d.time),d.errorWrap.classList.remove("hidden"),d.errorMessage.style.color="green",d.errorMessage.innerText=`Hooray! You liked tweet with id ${t}`}function l(e,t){e.classList.remove("unlike"),e.classList.add("like"),e.innerText="Like";let i=JSON.parse(localStorage.getItem(t));i.isLiked=!1,localStorage.setItem(t,JSON.stringify(i)),"#/liked"===location.hash&&o(),clearTimeout(n),n=setTimeout((()=>{d.errorWrap.classList.add("hidden"),d.errorMessage.innerText=""}),d.time),d.errorWrap.classList.remove("hidden"),d.errorMessage.style.color="red",d.errorMessage.innerText=`Sorry you no longer like a tweet with id ${t}`}},(e,t,i)=>{e.exports=i.p+"styles.css"}],t={};function i(d){var n=t[d];if(void 0!==n)return n.exports;var a=t[d]={exports:{}};return e[d](a,a.exports,i),a.exports}i.d=(e,t)=>{for(var d in t)i.o(t,d)&&!i.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:t[d]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var d=t.getElementsByTagName("script");d.length&&(e=d[d.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i(0)})();